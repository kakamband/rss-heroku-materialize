{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "FeedInfo.svelte",
    "FeedList.svelte",
    "Header.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { onMount, createEventDispatcher } from \"svelte\";\nimport { getFeeds } from \"../api/rssFeedProxy.ts\";\n;\nexport let feedInfos = [];\nlet valids = feedInfos.map(() => true);\nconst dispatch = createEventDispatcher();\nconst add = () => {\n    feedInfos = [...feedInfos, {\n            id: \"\",\n            url: \"\",\n        }];\n    valids = [...valids, true];\n};\nconst remove = (e) => {\n    const removeIndex = parseInt(e.target.name, 10);\n    feedInfos = feedInfos.filter((_, index) => index !== removeIndex);\n    valids = valids.filter((_, index) => index !== removeIndex);\n};\nconst checkValidation = (feedInfos) => __awaiter(void 0, void 0, void 0, function* () {\n    const feeds = yield getFeeds(feedInfos);\n    valids = feeds.map((feed) => feed.ok);\n});\nconst isAllValid = () => {\n    return !(valids.includes(false));\n};\nconst confirm = () => __awaiter(void 0, void 0, void 0, function* () {\n    yield checkValidation(feedInfos);\n    if (isAllValid()) {\n        dispatch(\"exec\", { payload: \"confirm\" });\n    }\n    else {\n        alert(\"不適切なFeed情報があります。\");\n    }\n});\nconst getFeedInfos = () => {\n    dispatch(\"exec\", { payload: \"getFeedInfos\" });\n};\nonMount(() => __awaiter(void 0, void 0, void 0, function* () {\n    yield checkValidation(feedInfos);\n}));\n</script>\n\n<style>\n  .feed-info {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .nav {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  .nav-item {\n    margin-right: 1em;\n  }\n</style>\n\n<form>\n  {#each feedInfos as feedInfo, i}\n  <div class=\"feed-info\">\n    <input type=\"url\" name={i} required bind:value={feedInfo.url}>\n\n    {#if valids[i]}\n    <span>○</span>\n    {:else}\n    <span>×</span>\n    {/if}\n\n    <input type=\"button\" name={i} value=\"削除\" on:click={remove}>\n  </div>\n  {/each}\n\n  <div class=\"nav\">\n    <input type=\"button\" class=\"nav-item\" value=\"追加\" on:click={add}>\n    <input type=\"button\" class=\"nav-item\" value=\"確定\" on:click={confirm}>\n    <input type=\"button\" class=\"nav-item\" value=\"サーバーから読込\" on:click={getFeedInfos}>\n  </div>\n</form>\n",
    "<script lang=\"ts\">;\nexport let feeds = [];\nconst sortFeed = (feed) => {\n    const contensSorted = feed.contents.sort((a, b) => {\n        if (a.date.isBefore(b.date))\n            return 1;\n        if (b.date.isBefore(a.date))\n            return -1;\n        return 0;\n    });\n    return Object.assign(Object.assign({}, feed), { contents: contensSorted });\n};\n$: feedsSorted = feeds.map((feed) => sortFeed(feed));\n</script>\n\n<style>\n  .content {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .content-item {\n    margin-right: 1em;\n  }\n\n  .title {\n    overflow-wrap: break-word;\n    text-align: justify;\n  }\n  \n  .date {\n    white-space: nowrap;\n  }\n</style>\n\n{#each feedsSorted as feed}\n<form>\n  {#if feed.ok}\n  <details>\n    <summary>{feed.title}</summary>\n\n    <a href={feed.link} target=\"_blank\" rel=\"noopener noreferrer\">ホームページ</a>\n    <a href={feed.url} target=\"_blank\" rel=\"noopener noreferrer\">フィードのリンク</a>\n\n    {#if feed.description}\n    <p>{feed.description}</p>\n    {/if}\n\n    {#each feed.contents as content}\n    <div class=\"content\">\n      <p class=\"content-item title\"><a href={content.link} target=\"_blank\" rel=\"noopener noreferrer\">{content.title}</a></p>\n      <p class=\"date\">{content.date.format(\"YYYY/MM/DD HH:mm\")}</p>\n    </div>\n    {/each}\n  </details>\n\n  {:else}\n  <p><a href={feed.url}>{feed.url}</a>&nbsp;[{feed.status}]{feed.statusText}</p>\n  {/if}\n</form>\n{/each}\n",
    "<script>\n  import { Router, Link } from \"svelte-routing\";\n  export let user = null;\n</script>\n\n<header class=\"site-header\">\n  <div class=\"site-header__wrapper\">\n    <img class=\"logo\" src=\"favicon.png\" alt=\"brand\" />\n\n    <nav class=\"nav\">\n      {#if user}\n      <Router>\n        <Link to=\"/\">Feedリスト</Link>\n        <Link to=\"/feed-info\">Feed設定</Link>\n      </Router>\n      {/if}\n\n      <slot name=\"auth\"></slot>\n    </nav>\n  </div>\n</header>\n\n<style>\n  /* header {\n    display: flex;\n    width: 100%;\n    height: 100px;\n    background-color: darkgrey;\n    align-items: center;\n    position: fixed;\n  }\n  \n  .logo {\n    margin-right: auto;\n  }\n  \n  .menu-item {\n    list-style: none;\n    display: inline-block;\n    padding: 10px;\n  }\n\n  .nav {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 1rem;\n  } */\n\n\n  .site-header {\n    position: relative;\n    /* position: fixed; */\n    background-color: darkgrey;\n  }\n\n  .site-header__wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 1rem;\n    margin: 0.5rem;\n  }\n\n  .logo {\n    width: 3rem;\n    height: 3rem;\n    margin: 0;\n    margin-right: auto;\n  }\n\n  .nav {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: 1rem;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "AAoDE,UAAU,eAAC,CAAC,AACV,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,AACrB,CAAC,AAED,IAAI,eAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,QAAQ,CACzB,WAAW,CAAE,MAAM,AACrB,CAAC,AAED,SAAS,eAAC,CAAC,AACT,YAAY,CAAE,GAAG,AACnB,CAAC;AClDD,QAAQ,cAAC,CAAC,AACR,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,AACrB,CAAC,AAED,aAAa,cAAC,CAAC,AACb,YAAY,CAAE,GAAG,AACnB,CAAC,AAED,MAAM,cAAC,CAAC,AACN,aAAa,CAAE,UAAU,CACzB,UAAU,CAAE,OAAO,AACrB,CAAC,AAED,KAAK,cAAC,CAAC,AACL,WAAW,CAAE,MAAM,AACrB,CAAC;ACiBD,YAAY,eAAC,CAAC,AACZ,QAAQ,CAAE,QAAQ,CAElB,gBAAgB,CAAE,QAAQ,AAC5B,CAAC,AAED,qBAAqB,eAAC,CAAC,AACrB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,WAAW,CAAE,MAAM,CACnB,SAAS,CAAE,IAAI,CACf,GAAG,CAAE,IAAI,CACT,MAAM,CAAE,MAAM,AAChB,CAAC,AAED,KAAK,eAAC,CAAC,AACL,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,CAAC,CACT,YAAY,CAAE,IAAI,AACpB,CAAC,AAED,IAAI,eAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,SAAS,CAAE,IAAI,CACf,GAAG,CAAE,IAAI,AACX,CAAC"
}